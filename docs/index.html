<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plantilla de Visualizaci칩n - Universidad Austral de Chile</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header Principal -->
    <header class="main-header">
        <div class="logos-container">
            <img src="thumbnail_Logo observa.png" alt="Universidad Austral de Chile - Centro de Estudios Regionales" class="header-logo-left">
            <img src="thumbnail_images.png" alt="Logo Regi칩n" class="header-logo">
        </div>
        <div class="header-content">
            <h1 class="main-title" id="main-title">Evoluci칩n de la Fuerza de Trabajo - Regi칩n de Los R칤os 2010-2024</h1>
            <p class="subtitle" id="subtitle">Universidad Austral de Chile - Centro de Estudios Regionales</p>
        </div>
    </header>
    
    <!-- Navegaci칩n -->
    <nav class="nav-container">
        <div class="nav-links" id="nav-links">
            <span class="nav-link" data-section="bienvenida">Fuerza de Trabajo</span>
        </div>
    </nav>
    
    <!-- Container Principal -->
    <div class="container">
        <!-- Secci칩n Principal -->
        <section id="bienvenida" class="section active">
            <h2 class="section-title">An치lisis Temporal del Mercado Laboral Regional</h2>
            <div class="chart-section">
                <div class="chart-placeholder" id="chart-placeholder" style="display:none;">
                    <span class="placeholder-icon">游늵</span>
                    <p>Cargando visualizaci칩n de datos laborales...</p>
                </div>
                <!-- Contenedor del gr치fico Plotly exportado -->
                <div id="plot-embed">
                    <div id="plot" title="Fuerza de Trabajo - Los R칤os"></div>
                </div>
            </div>
        </section>        <!-- Secciones din치micas se generar치n aqu칤 -->
        <div id="dynamic-sections"></div>
    </div>
    
    <!-- Footer -->
    <footer class="footer">
        <p class="footer-text" id="footer-text">
            An치lisis de Fuerza de Trabajo Regional<br>
            Universidad Austral de Chile - Centro de Estudios Regionales
        </p>
        <img src="thumbnail_logo cer.png" alt="Universidad Austral de Chile - Centro de Estudios Regionales" class="footer-logo">
    </footer>

    <!-- Tooltip global -->
    <div class="tooltip" id="tooltip"></div>

            <script src="interactive.js"></script>
            <!-- Cargar Plotly desde CDN -->
            <script src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>
            <script>
                // Renderizar el gr치fico inline (sin archivos externos)
                (function() {
                    const years = [2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024];
                    const hombres = [89.2,91.1,92.8,94.2,93.7,95.1,96.5,98.1,99.4,100.8,94.2,96.8,101.2,98.2,104.8];
                    const mujeres = [65.8,67.2,68.9,70.1,71.5,72.8,74.2,75.9,77.1,78.6,71.3,74.1,78.9,77.4,78.5];
                    const ambos = hombres.map((h,i) => Math.round((h + mujeres[i]) * 10)/10);

                    const traces = [
                        { x: years, y: ambos, name: 'Ambos sexos', mode: 'lines+markers', type: 'scatter', line: {color: '#1f77b4', width: 3}, marker: {size: 8, color: '#1f77b4'}, hovertemplate: '<b>Ambos sexos</b><br>A침o: %{x}<br>Fuerza de Trabajo: %{y:.1f} miles<br><extra></extra>' },
                        { x: years, y: hombres, name: 'Hombres', mode: 'lines+markers', type: 'scatter', line: {color: '#d62728', width: 3}, marker: {size: 8, color: '#d62728'}, hovertemplate: '<b>Hombres</b><br>A침o: %{x}<br>Fuerza de Trabajo: %{y:.1f} miles<br><extra></extra>' },
                        { x: years, y: mujeres, name: 'Mujeres', mode: 'lines+markers', type: 'scatter', line: {color: '#ff7f0e', width: 3}, marker: {size: 8, color: '#ff7f0e'}, hovertemplate: '<b>Mujeres</b><br>A침o: %{x}<br>Fuerza de Trabajo: %{y:.1f} miles<br><extra></extra>' }
                    ];

                    const layout = {
                        title: { text: 'Evolucion de la Fuerza de Trabajo - Region de Los Rios (2010-2024)', x: 0.02, xanchor: 'left', font: { size: 22, family: 'Georgia, serif', color: '#1e293b' } },
                        xaxis: { title: { text: 'A침o', font: { family: 'Georgia, serif', color: '#1e293b', size: 14 } }, tickfont: { family: 'Georgia, serif', color: '#1e293b', size: 12 }, showgrid: false, gridcolor: '#e5e7eb', gridwidth: 1, showline: true, linecolor: '#1e293b', linewidth: 2, tick0: 2010, dtick: 2 },
                        yaxis: { title: { text: 'Fuerza de Trabajo (miles de personas)', font: { family: 'Georgia, serif', color: '#1e293b', size: 14 } }, tickfont: { family: 'Georgia, serif', color: '#1e293b', size: 12 }, showgrid: true, gridcolor: '#e5e7eb', gridwidth: 1, showline: true, linecolor: '#1e293b', linewidth: 2 },
                        hovermode: 'x unified',
                        showlegend: true,
                        legend: { orientation: 'h', yanchor: 'top', y: 1.05, xanchor: 'right', x: 0.98, bgcolor: 'rgba(255,255,255,0.85)', bordercolor: 'rgba(0,0,0,0)', borderwidth: 0, font: { family: 'Georgia, serif', color: '#1e293b', size: 14 } },
                        font: { family: 'Georgia, serif', color: '#1e293b' },
                        plot_bgcolor: 'white', paper_bgcolor: 'white',
                        shapes: [{ type: 'line', x0: 2020, x1: 2020, xref: 'x', y0: 0, y1: 1, yref: 'y domain', line: { color: '#8b5a3c', width: 1.5, dash: 'dot' }, opacity: 0.7 }],
                        annotations: [{ x: 2020, y: Math.max(...ambos) * 0.95, text: 'COVID-19', showarrow: false, font: { family: 'Georgia, serif', size: 10, color: '#8b5a3c' }, bgcolor: 'rgba(255,255,255,0.8)', bordercolor: 'rgba(0,0,0,0)', xanchor: 'center' }]
                    };
                    const config = { responsive: true, displayModeBar: true };
                    Plotly.newPlot('plot', traces, layout, config);
                })();
            </script>
</body>
</html>
