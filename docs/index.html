<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>An√°lisis de Fuerza de Trabajo Regional - Universidad Austral de Chile</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header Principal -->
    <header class="main-header">
        <div class="logos-container">
            <img src="thumbnail_Logo observa.png" alt="Universidad Austral de Chile - Centro de Estudios Regionales" class="header-logo-left">
            <img src="thumbnail_images.png" alt="Logo Regi√≥n" class="header-logo">
        </div>
        <div class="header-content">
            <h1 class="main-title" id="main-title">Evoluci√≥n de la Fuerza de Trabajo - Regi√≥n de Los R√≠os 2010-2024</h1>
            <p class="subtitle" id="subtitle">Universidad Austral de Chile - Centro de Estudios Regionales</p>
        </div>
    </header>
    <!-- Container Principal -->
    <div class="container">
        <!-- Secci√≥n Principal -->
        <section id="bienvenida" class="section active">
            <h2 class="section-title">An√°lisis Temporal del Mercado Laboral Regional</h2>
            <div class="chart-section">
                <div class="chart-placeholder" id="chart-placeholder" style="display:none;">
                    <span class="placeholder-icon">üìä</span>
                    <p>Cargando visualizaci√≥n de datos laborales...</p>
                </div>
                <!-- Contenedor del gr√°fico -->
                <div id="plot-embed">
                    <div id="plot"></div>
                </div>
            </div>
        </section>        <!-- Secciones din√°micas se generar√°n aqu√≠ -->
        <div id="dynamic-sections"></div>
    </div>
    
    <!-- Footer -->
    <footer class="footer">
        <p class="footer-text" id="footer-text">
            An√°lisis de Fuerza de Trabajo Regional<br>
            Universidad Austral de Chile - Centro de Estudios Regionales
        </p>
        <img src="thumbnail_logo cer.png" alt="Universidad Austral de Chile - Centro de Estudios Regionales" class="footer-logo">
    </footer>

    <!-- Tooltip global -->
    <div class="tooltip" id="tooltip"></div>

            <script src="interactive.js"></script>

            <!-- Highcharts (incluye men√∫ de exportaci√≥n como en la imagen) -->
            <script src="https://code.highcharts.com/highcharts.js"></script>
            <script src="https://code.highcharts.com/modules/exporting.js"></script>
            <script src="https://code.highcharts.com/modules/export-data.js"></script>
            <script src="https://code.highcharts.com/modules/full-screen.js"></script>
            <script src="https://code.highcharts.com/modules/accessibility.js"></script>

            <script>
                // Renderizar el gr√°fico inline (sin archivos externos)
                (function() {
                    const years = [2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024];
                    const hombres = [89.2,91.1,92.8,94.2,93.7,95.1,96.5,98.1,99.4,100.8,94.2,96.8,101.2,98.2,104.8];
                    const mujeres = [65.8,67.2,68.9,70.1,71.5,72.8,74.2,75.9,77.1,78.6,71.3,74.1,78.9,77.4,78.5];
                    const ambos = hombres.map((h,i) => Math.round((h + mujeres[i]) * 10) / 10);

                    const covidIndex = years.indexOf(2020);

                    Highcharts.setOptions({
                        chart: {
                            style: {
                                fontFamily: 'Georgia, serif'
                            }
                        },
                        lang: {
                            viewFullscreen: 'View in full screen',
                            printChart: 'Print chart',
                            downloadPNG: 'Download PNG image',
                            downloadJPEG: 'Download JPEG image',
                            downloadSVG: 'Download SVG vector image',
                            downloadCSV: 'Download CSV',
                            downloadXLS: 'Download XLS',
                            viewData: 'View data table'
                        }
                    });

                    Highcharts.chart('plot', {
                        chart: {
                            type: 'line',
                            backgroundColor: '#ffffff'
                        },

                        title: {
                            text: 'Evoluci√≥n de la Fuerza de Trabajo - Regi√≥n de Los R√≠os (2010-2024)',
                            align: 'left',
                            style: {
                                fontSize: '22px',
                                color: '#1e293b'
                            }
                        },

                        subtitle: {
                            text: 'Universidad Austral de Chile - Centro de Estudios Regionales',
                            align: 'left',
                            style: {
                                color: '#1e293b'
                            }
                        },

                        xAxis: {
                            categories: years,
                            tickInterval: 2,
                            title: {
                                text: 'A√±o',
                                style: {
                                    color: '#1e293b',
                                    fontSize: '14px'
                                }
                            },
                            labels: {
                                style: {
                                    color: '#1e293b',
                                    fontSize: '12px'
                                }
                            },
                            lineColor: '#1e293b',
                            lineWidth: 2,
                            tickColor: '#1e293b',
                            plotLines: covidIndex === -1 ? [] : [{
                                value: covidIndex,
                                color: '#8b5a3c',
                                width: 1.5,
                                dashStyle: 'Dot',
                                label: {
                                    text: 'COVID-19',
                                    rotation: 0,
                                    y: -10,
                                    style: {
                                        color: '#8b5a3c',
                                        fontSize: '10px'
                                    }
                                },
                                zIndex: 5
                            }]
                        },

                        yAxis: {
                            title: {
                                text: 'Fuerza de Trabajo (miles de personas)',
                                style: {
                                    color: '#1e293b',
                                    fontSize: '14px'
                                }
                            },
                            labels: {
                                style: {
                                    color: '#1e293b',
                                    fontSize: '12px'
                                }
                            },
                            gridLineColor: '#e5e7eb',
                            lineColor: '#1e293b',
                            lineWidth: 2
                        },

                        legend: {
                            layout: 'horizontal',
                            align: 'right',
                            verticalAlign: 'top',
                            itemStyle: {
                                color: '#1e293b',
                                fontSize: '14px'
                            }
                        },

                        tooltip: {
                            shared: true,
                            valueDecimals: 1,
                            headerFormat: '<b>A√±o: {point.key}</b><br/>',
                            pointFormat: '<span style="color:{series.color}">‚óè</span> {series.name}: <b>{point.y:.1f}</b> miles<br/>'
                        },

                        plotOptions: {
                            series: {
                                lineWidth: 3,
                                marker: {
                                    enabled: true,
                                    radius: 4
                                }
                            }
                        },

                        series: [{
                            name: 'Ambos sexos',
                            data: ambos,
                            color: '#1f77b4'
                        }, {
                            name: 'Hombres',
                            data: hombres,
                            color: '#d62728'
                        }, {
                            name: 'Mujeres',
                            data: mujeres,
                            color: '#ff7f0e'
                        }],

                        exporting: {
                            enabled: true,
                            buttons: {
                                contextButton: {
                                    menuItems: [
                                        'viewFullscreen',
                                        'printChart',
                                        'separator',
                                        'downloadPNG',
                                        'downloadJPEG',
                                        'downloadSVG',
                                        'separator',
                                        'downloadCSV',
                                        'downloadXLS',
                                        'viewData'
                                    ]
                                }
                            }
                        },

                        credits: {
                            enabled: false
                        },

                        responsive: {
                            rules: [{
                                condition: {
                                    maxWidth: 500
                                },
                                chartOptions: {
                                    legend: {
                                        layout: 'horizontal',
                                        align: 'center',
                                        verticalAlign: 'bottom'
                                    }
                                }
                            }]
                        }
                    });
                })();
            </script>
</body>
</html>
